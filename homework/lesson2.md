https://go.skillbox.ru/education/course/devops-kubernetes/d5620d4d-22e7-4476-a6cc-8d11603a78aa/homework

# 3.7 Практическая работа
## Цель практической работы
В этом модуле мы прошли основные объекты Кубернетеса для создания подов и управления ими. Цель этой домашней работы — закрепить знания о таких объектах Кубернетеса, как Deployments, Services, Jobs, отработать управление ими и траблшутинг. Это заложит фундамент для дальнейшего обучения, так как более продвинутые сущности и возможности Кубернетеса обычно основаны или зависят от обсуждаемых в этом модуле объектов.


## Задание 1
### Что нужно сделать

Вы в компании запускаете новый сайт на WordPress. Для этого вы хотите отдельно развернуть базу данных и запустить три реплики сайта. Но контейнеры с WordPress-сайтом должны запускаться только после того, как база данных станет доступна. Для этого вы хотите использовать init-контейнер в поде с WordPress, который должен запускаться перед запуском основного контейнера и проверять то, что база доступна. Вы написали все манифесты, но запуск основного контейнера после init-контейнера не происходит. В чём причина?

Шаги выполнения:

Перейдите на GitLab по кнопке.
Создайте в кластере объекты deployment и service для базы данных. Для этого примените манифесты database-deployment.yaml и database-service.yaml из папки module-3/Homework/task1.

devops.kubernetes

├── logo.png

├── module-2

│   ├── Homework

│   │   ├── task1

│   │   │   ├── database-deployment.yaml

│   │   │   ├── database-service.yaml

│   │   │   └── webapp.yaml


Запустите приложение webapp, применив в кластере манифест webapp.yaml из той же папки.
Поды деплоймента webapp не могут пройти дальше init-контейнеров. Найдите ошибку в манифестах и почините приложение.
Hint: команда kubectl logs deployment/webapp -c check-db-ready покажет вам логи init-контейнера из deployment’а webapp.


### Что оценивается

Init-контейнер webapp успешно отрабатывает, запускается основное приложение.


### Как отправить задание на проверку

Напишите текстом через форму для сдачи домашнего задания, что нужно исправить и как, чтобы приложение заработало в текущем виде.


## Задание 2
### Что нужно сделать

Создайте объект CronJob, который каждую минуту будет писать в лог текущую дату и внешний IP-адрес. 

Hint: чтобы узнать внешний адрес, можно использовать команду curl ipinfo.io/ip.


### Что оценивается

CronJob каждую минуту запускает новый под, в логах которого можно найти текущую дату и внешний IP-адрес.


### Как отправить задание на проверку

Как результат работы отправьте преподавателю ссылку на ваш репозиторий module-3 через форму для сдачи домашнего задания.